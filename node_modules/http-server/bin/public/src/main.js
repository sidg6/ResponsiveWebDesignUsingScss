var carouselSlideCount = 0;
var teamSlideCount = 0;

function nextSlide(index,component){
    if(component === "carousel"){
        let imagesCount = document.getElementsByClassName("carousel-image").length;
        if(carouselSlideCount < imagesCount-1){
            carouselSlideCount = carouselSlideCount + index;
        }else{
            carouselSlideCount=0;
        }
        slideImage(carouselSlideCount,component);
    }

    if(component === "team"){
        let membersCount = document.getElementsByClassName("team-members-list").length;
        if(teamSlideCount < membersCount/2){
            teamSlideCount = teamSlideCount + index;
        }else{
            teamSlideCount=0;
        }
        slideImage(teamSlideCount,component);
    }
    
}

function previousSlide(index,component){
    if(component === "carousel"){
        let imagesCount = document.getElementsByClassName("carousel-image").length;
        if(carouselSlideCount < 1){
            carouselSlideCount = imagesCount-1;
        }else{
            carouselSlideCount= carouselSlideCount + index;
        }
        slideImage(carouselSlideCount,component);
    }
    if(component === "team"){
        let membersCount = document.getElementsByClassName("team-members-list").length;
        if(teamSlideCount < 1){
            teamSlideCount = Math.round(membersCount/2);
        }else{
            teamSlideCount=0;
        }
        slideImage(teamSlideCount,component);
    }
}

function slideImage(value,component){
    if(component === "carousel"){
        document.getElementsByClassName("carousel-slider")[0].style.transform = "translate(-"+((12*value)+(value/2))+"%)";
    }
    else if(component === "team"){
        document.getElementsByClassName("team-members")[0].style.transform = "translate(-"+(Number((33*value)/2)+((value/33)*7))+"%)";
    }
}

function openSideNav() {
    document.getElementById("closeSideBar").removeEventListener("click",closeSideNav);
    var x = document.getElementById("navigation");
    if (x.className === "navigation") {
        x.className = "sideNav";
        document.getElementsByClassName("open")[0].className = document.getElementsByClassName("open")[0].className + " remove-open-icon";
        document.body.style.overflowY = "hidden";
    }
    else {
        x.className = "navigation";
    }
}

function closeSideNav() {
    document.getElementById("openNavBar").removeEventListener("click",openSideNav);
    var x = document.getElementById("navigation");
    if (x.className === "sideNav") {
        x.className = "navigation";
        document.getElementsByClassName("open")[0].className = document.getElementsByClassName("open")[0].className + " add-open-icon";
        document.body.style.overflowY = "scroll";
    }
}

var prevValue = 0
var currentValue = 0

function mobileImageSlider(){
    prevValue = currentValue;
    document.getElementsByClassName("dot")[prevValue].className = "dot";
    currentValue = event.target.attributes["value"].value;
    document.getElementsByClassName("dot")[currentValue].className = document.getElementsByClassName("dot")[currentValue].className+" active";
    slideImage(currentValue,"team");
   
}

function initializeDots(){
    let dotCount = document.querySelectorAll(".dot");
    for (let i = 0; i < dotCount.length; i++) {
        dotCount[i].addEventListener('click', function(){mobileImageSlider()});
    }
}

window.onload = initializeDots;

document.getElementById("openNavBar").onclick = openSideNav;
document.getElementById("closeSideBar").onclick = closeSideNav;

document.getElementById("carousel-right-arrow").addEventListener("click",function(){
    nextSlide(1,"carousel");
});

document.getElementById("carousel-left-arrow").addEventListener("click",function(){
    previousSlide(-1,"carousel");
});

document.getElementById("carousel-right-arrow").addEventListener("keypress",function(){
    nextSlide(1,"carousel");
});
document.getElementById("carousel-left-arrow").addEventListener("keypress", function(){
    previousSlide(-1,"carousel");
});

document.getElementById("team-right-arrow").addEventListener("click",function(){
    nextSlide(1,"team");
});
document.getElementById("team-left-arrow").addEventListener("click",function(){
    previousSlide(-1,"team")
});
document.getElementById("team-right-arrow").addEventListener("keypress",function(){
    nextSlide(1,"team");
});
document.getElementById("team-left-arrow").addEventListener("keypress", function(){
    previousSlide(-1,"team");
});
